{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aruno/OneDrive/Desktop/cms/cms-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aruno/OneDrive/Desktop/cms/cms-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aruno/OneDrive/Desktop/cms/cms-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useState}from'react';import axios from\"axios\";import{Paper,Zoom,Container,Box,Grid,Typography,Button}from'@mui/material';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var headCells=[{id:'srno',label:'S. No.',minWidth:50,align:'center'},{id:'srno',label:'First Name',minWidth:50,align:'center'},{id:'srno',label:'Last Name',minWidth:50,align:'center'},{id:'srno',label:'Email',minWidth:50,align:'center'},{id:'srno',label:'Action',minWidth:50,align:'center'}];function EnhancedTableHead(props){return/*#__PURE__*/_jsx(TableHead,{className:\"theadbg border\",children:/*#__PURE__*/_jsx(TableRow,{children:headCells.map(function(headCell){return/*#__PURE__*/_jsxs(TableCell,{style:{color:'#6E6A76'},padding:headCell.disablePadding?'none':'default',children:[\" \",headCell.label]},headCell.id);})})});}var CustomerList=function CustomerList(){var url=\"http://localhost:8800/users/\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),customerList=_useState2[0],setCustomerList=_useState2[1];var onAddCustomer=function onAddCustomer(){// history.push('./adduser');\nwindow.open('./addCustomer','_self');};var onUpdateCustomer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.open(\"/updateCustomer/\".concat(id),'_self');case 1:case\"end\":return _context.stop();}}},_callee);}));return function onUpdateCustomer(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var fetchAllUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(url);case 3:res=_context2.sent;setCustomerList(res.data);// console.log(res);\n_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function fetchAllUser(){return _ref2.apply(this,arguments);};}();fetchAllUser();},[]);var onhandleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(url+id);case 3:window.location.reload();_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function onhandleDelete(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Box,{sx:{my:2},children:/*#__PURE__*/_jsx(Paper,{elevation:3,style:{marginTop:\"30px\"},children:/*#__PURE__*/_jsxs(Grid,{xs:12,container:true,direction:\"row\",justifyContent:\"flex-start\",alignItems:\"flex-start\",children:[/*#__PURE__*/_jsx(Grid,{xs:12,style:{padding:\"12px\"},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onAddCustomer,children:\"+ Add Customer\"})}),/*#__PURE__*/_jsxs(Grid,{xs:12,style:{padding:\"12px\",marginTop:\"6px\"},children:[/*#__PURE__*/_jsx(Typography,{children:\"Customer List\"}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(EnhancedTableHead,{}),/*#__PURE__*/_jsx(TableBody,{className:\"border\",children:customerList&&customerList.length>0?customerList.map(function(user,index){return/*#__PURE__*/_jsxs(TableRow,{hover:true,onClick:function onClick(event){return event,'user';},role:\"checkbox\",tabIndex:-1,children:[/*#__PURE__*/_jsx(TableCell,{children:index+1}),/*#__PURE__*/_jsx(TableCell,{children:user.firstname}),/*#__PURE__*/_jsx(TableCell,{children:user.lastname}),/*#__PURE__*/_jsx(TableCell,{children:user.email}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(event){return onUpdateCustomer(user.id);},children:\"Update\"}),\"|\",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onhandleDelete(user.id);},children:\"Delete\"})]})]},user.id);}):\"\"})]})})]})]})})})})});};export default CustomerList;","map":{"version":3,"names":["React","useEffect","useState","axios","Paper","Zoom","Container","Box","Grid","Typography","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","headCells","id","label","minWidth","align","EnhancedTableHead","props","map","headCell","color","disablePadding","CustomerList","url","customerList","setCustomerList","onAddCustomer","window","open","onUpdateCustomer","fetchAllUser","get","res","data","console","log","onhandleDelete","delete","location","reload","my","marginTop","padding","length","user","index","event","firstname","lastname","email"],"sources":["C:/Users/aruno/OneDrive/Desktop/cms/cms-frontend/src/components/cms/customerlist.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useEffect,useState } from 'react';\r\nimport axios from \"axios\";\r\nimport {Paper,Zoom,Container,Box,Grid,Typography,Button} from '@mui/material';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nconst headCells = [\r\n    { id: 'srno', label: 'S. No.', minWidth: 50,align: 'center' },\r\n    { id: 'srno', label: 'First Name', minWidth: 50,align: 'center' },\r\n    { id: 'srno', label: 'Last Name', minWidth: 50,align: 'center' },\r\n    { id: 'srno', label: 'Email', minWidth: 50,align: 'center' },\r\n    { id: 'srno', label: 'Action', minWidth: 50,align: 'center' }\r\n   \r\n]\r\n\r\nfunction EnhancedTableHead(props) {\r\n\r\n\r\n\r\n\r\n    return (\r\n      <TableHead className='theadbg border'>\r\n        <TableRow>\r\n          {/* <TableCell padding=\"checkbox\"> */}\r\n          {/* <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{ 'aria-label': 'select all desserts' }}\r\n            /> */}\r\n          {/* </TableCell> */}\r\n          {headCells.map((headCell) => (\r\n            <TableCell style={{ color: '#6E6A76' }}\r\n              key={headCell.id}\r\n              padding={headCell.disablePadding ? 'none' : 'default'}\r\n            > {headCell.label}\r\n  \r\n            </TableCell>\r\n          ))}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n  \r\n  EnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onRequestSort: PropTypes.func.isRequired,\r\n    onSelectAllClick: PropTypes.func.isRequired,\r\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n    orderBy: PropTypes.string.isRequired,\r\n    rowCount: PropTypes.number.isRequired,\r\n  };\r\n  \r\n  \r\n  \r\n\r\n\r\nconst CustomerList = () => {\r\n\r\n\r\n  \r\n  const url = \"http://localhost:8800/users/\";\r\n\r\n    const [customerList, setCustomerList] = useState([]);\r\n\r\n    const onAddCustomer = () => {\r\n        // history.push('./adduser');\r\n      window.open('./addCustomer','_self')\r\n    \r\n    }\r\n\r\n\r\n   \r\n\r\n\r\n  const onUpdateCustomer = async (id) =>{\r\n    window.open(`/updateCustomer/${id}`,'_self')\r\n  }\r\n\r\n    useEffect(()=>{\r\n        const fetchAllUser = async()=>{\r\n            try{\r\n                const res = await axios.get(url);\r\n                setCustomerList(res.data)\r\n                // console.log(res);\r\n\r\n            }catch(err){\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n\r\n        fetchAllUser();\r\n    },[]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const onhandleDelete= async (id)=>{\r\n\r\n      try{\r\n        await axios.delete(url+id);\r\n        window.location.reload();\r\n      }catch(err){\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n<Container>\r\n        <Box sx={{ my: 2 }}>\r\n      \r\n      <Paper elevation={3} style={{marginTop:\"30px\"}}>\r\n               \r\n                <Grid xs={12} container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\">\r\n\r\n                <Grid xs={12} style={{padding:\"12px\"}}>\r\n\r\n                <Button variant=\"contained\" color=\"primary\" onClick={onAddCustomer}>\r\n                + Add Customer\r\n                </Button>\r\n                </Grid>\r\n\r\n                <Grid xs={12} style={{padding:\"12px\",marginTop:\"6px\"}}>\r\n                    <Typography>\r\n                        Customer List\r\n                    </Typography>\r\n\r\n\r\n        <TableContainer >\r\n\r\n<Table >\r\n\r\n\r\n  <EnhancedTableHead />\r\n\r\n\r\n  <TableBody className='border'>\r\n\r\n    {\r\n      customerList && customerList.length > 0 ? customerList.map((user, index) => (\r\n        <TableRow\r\n          hover\r\n          onClick={(event) =>(event, 'user')}\r\n          role=\"checkbox\"\r\n          tabIndex={-1}\r\n          key={user.id}\r\n        >\r\n\r\n          <TableCell>{index + 1}</TableCell>\r\n          <TableCell>{user.firstname}</TableCell>\r\n          <TableCell>{user.lastname}</TableCell>\r\n          <TableCell>{user.email}</TableCell>\r\n          <TableCell>\r\n            <Button\r\n            onClick={(event)=>onUpdateCustomer(user.id)}\r\n            >\r\n                Update\r\n            </Button>| \r\n            <Button\r\n            onClick={()=> onhandleDelete(user.id)}>\r\n                Delete\r\n            </Button>\r\n        </TableCell>\r\n\r\n        </TableRow>\r\n      ))\r\n        : \"\"}\r\n\r\n  </TableBody>\r\n\r\n</Table>\r\n\r\n\r\n\r\n\r\n</TableContainer>\r\n\r\n\r\n                    \r\n\r\n\r\n\r\n\r\n                </Grid>\r\n                \r\n                </Grid>\r\n        </Paper>\r\n        </Box>\r\n        </Container>\r\n        \r\n    </>\r\n  )\r\n}\r\n\r\nexport default CustomerList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}